根据https://github.com/greyli/bluelog学习并修改